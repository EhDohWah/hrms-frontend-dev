/**
 * NProgress Custom Styles
 *
 * Customizes NProgress appearance to match HRMS theme colors.
 * Primary color: #011b44 (Dark Navy Blue)
 *
 * @version 1.1.0
 *
 * IMPORTANT: These styles ensure NProgress bar spans full viewport width,
 * regardless of sidebar or header positioning.
 */

/* ============================================================================
   PROGRESS BAR
   ============================================================================ */

/* Main progress bar container - ensure it's at viewport level */
#nprogress {
  pointer-events: none;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  z-index: 99999 !important;
}

/* Progress bar itself - full viewport width from left edge */
#nprogress .bar {
  background: #011b44;
  position: fixed !important;
  z-index: 99999 !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  height: 3px;

  /* Smooth gradient effect */
  background: linear-gradient(
    90deg,
    #011b44 0%,
    #0a3d7a 50%,
    #011b44 100%
  );

  /* Box shadow for glow effect */
  box-shadow: 0 0 10px #011b44,
    0 0 5px #011b44;
}

/* Peg (the highlight at the end of the bar) */
#nprogress .peg {
  display: block;
  position: absolute;
  right: 0px;
  width: 100px;
  height: 100%;
  box-shadow: 0 0 10px #011b44,
    0 0 5px #011b44;
  opacity: 1;
  transform: rotate(3deg) translate(0px, -4px);
}

/* ============================================================================
   SPINNER (disabled by default, but styled if enabled)
   ============================================================================ */

#nprogress .spinner {
  display: block;
  position: fixed;
  z-index: 99999;
  top: 15px;
  right: 15px;
}

#nprogress .spinner-icon {
  width: 18px;
  height: 18px;
  box-sizing: border-box;
  border: solid 2px transparent;
  border-top-color: #011b44;
  border-left-color: #011b44;
  border-radius: 50%;
  animation: nprogress-spinner 400ms linear infinite;
}

/* ============================================================================
   ANIMATIONS
   ============================================================================ */

/* Spinner animation */
@keyframes nprogress-spinner {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Pulse animation for the progress bar (subtle) */
@keyframes nprogress-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* ============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================ */

/* Thicker bar on larger screens */
@media (min-width: 768px) {
  #nprogress .bar {
    height: 3px;
    /* Maintain full width positioning */
    left: 0 !important;
    width: 100vw !important;
  }
}

/* Thinner bar on mobile for less intrusion */
@media (max-width: 767px) {
  #nprogress .bar {
    height: 2px;
    /* Maintain full width positioning */
    left: 0 !important;
    width: 100vw !important;
  }

  #nprogress .spinner {
    top: 10px;
    right: 15px;
  }

  #nprogress .spinner-icon {
    width: 14px;
    height: 14px;
  }
}

/* ============================================================================
   HIGH CONTRAST MODE / ACCESSIBILITY
   ============================================================================ */

@media (prefers-contrast: high) {
  #nprogress .bar {
    background: #0056b3;
    box-shadow: none;
  }

  #nprogress .peg {
    box-shadow: none;
  }
}

/* Reduced motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  #nprogress .spinner-icon {
    animation: none;
  }

  #nprogress .peg {
    display: none;
  }
}

/* ============================================================================
   DARK MODE SUPPORT (if implemented in the future)
   ============================================================================ */

@media (prefers-color-scheme: dark) {
  #nprogress .bar {
    background: linear-gradient(
      90deg,
      #3b9fd1 0%,
      #0088d4 50%,
      #3b9fd1 100%
    );
    box-shadow: 0 0 10px #3b9fd1, 0 0 5px #3b9fd1;
    /* Maintain full width positioning in dark mode */
    left: 0 !important;
    width: 100vw !important;
  }

  #nprogress .peg {
    box-shadow: 0 0 10px #3b9fd1, 0 0 5px #3b9fd1;
  }

  #nprogress .spinner-icon {
    border-top-color: #3b9fd1;
    border-left-color: #3b9fd1;
  }
}

/* ============================================================================
   Z-INDEX MANAGEMENT
   Ensures NProgress is above sidebar (1035) and header (1030) but below
   Ant Design modals (1060) for proper layering
   ============================================================================ */

/* Z-index values are set in the main rules above with !important
   to ensure they take precedence over default nprogress.css styles.

   Current z-index hierarchy:
   - Sidebar: 1035
   - Header: 1030
   - Modals: 1060
   - NProgress: 99999 (above everything for visibility)
   - Toast/Messages: 100000+ (if needed above progress bar)
*/
